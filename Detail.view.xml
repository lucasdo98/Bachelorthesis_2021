<mvc:View xmlns="sap.m" xmlns:semantic="sap.f.semantic" xmlns:mvc="sap.ui.core.mvc" controllerName="Ticketapp.Service.Ticketapp_Service.controller.Detail">
	<semantic:SemanticPage id="detailPage" busy="{detailView>/busy}" busyIndicatorDelay="{detailView>/delay}">
        <semantic:titleHeading>
			<Title text="Nachrichtendetails" level="H2"/>
		</semantic:titleHeading>
		<semantic:headerContent>
            <!-- Diese Texte sind unsichtbar. Sie werden lediglich der einfachheit halber genutzt, um Werte in den Controller zu laden. -->
			<Text text="{ServiceRequest/ObjectID}" id="ObjectID" visible="false"/>
			<Text text="{ServiceRequest/ServicePriorityCodeText}" id="AktuellerWertPrioritaet" visible="false"/>
			<Text text="{ServiceRequest/ServiceSupportTeamPartyID} - {ServiceRequest/ServiceSupportTeamPartyName}" id="AktuellerWertServiceUndSupportTeam" visible="false"/>
			<Text text="{ServiceRequest/SalesUnitPartyID} - {ServiceRequest/SalesUnitPartyName}" id="AktuellerWertVerkaufsorganisation" visible="false"/>

            <!-- Ticketpriorität .................................................................................................. -->
            <Text id="text_ticketprioritaet" text="Ticketpriorität:" width="100%"/>
            <ComboBox 
             id="Prioritaet" 
             width="100%" 
             value="{ServiceRequest/ServicePriorityCodeText}">
                <items>
                    <core:Item xmlns:core="sap.ui.core" key="1" text="Sofort" id="Prio1"/>
                    <core:Item xmlns:core="sap.ui.core" key="2" text="Dringend" id="Prio2"/>
                    <core:Item xmlns:core="sap.ui.core" key="3" text="Normal" id="Prio3"/>
                </items>
            </ComboBox>

            <!-- Verkaufsorganisation ..............................................................................................-->
            <Text id="text_Verkaufsorganisation" text="Verkaufsorganisation:" width="100%"/>
            <ComboBox 
             xmlns="sap.m" 
             width="100%" 
             id="Verkaufsorganisation" 
             value="{ServiceRequest/SalesUnitPartyName}" 
             items="{
                     path: '/OrganisationalUnitNameAndAddressCollection', 
                     filters: [{path: 'OrganisationalUnitID', operator: 'StartsWith', value1: 'SO'}]
                    }">
                <core:Item xmlns:core="sap.ui.core" key="{OrganisationalUnitID}" text="{OrganisationalUnitID} - {Name}"/>
            </ComboBox>


            <!-- Service- und Supportteam ...........................................................................................-->
            <Text id="text3" text="Service und Supportteam:" width="100%"/>
            <ComboBox 
             xmlns="sap.m" 
             width="100%" 
             id="ServiceUndSupportTeam" 
             value="{ServiceRequest/ServiceSupportTeamPartyName}" 
             items="{
                     path: '/OrganisationalUnitNameAndAddressCollection', 
                     filters: [{path: 'OrganisationalUnitID', operator: 'StartsWith', value1: 'SERVICE'}]
                    }">
                <core:Item xmlns:core="sap.ui.core" key="{OrganisationalUnitID}" text="{OrganisationalUnitID} - {Name}"/>
            </ComboBox>
            
            <!-- Button für Combobox ............................................................................................... -->
            <Button text="Ticketdaten jetzt ändern" id="ButtonPress" press="onDatenSpeichern" width="100%"/>
		</semantic:headerContent>
		<semantic:content>

            <!-- Tabelle für Betreff und Nachricht .................................................................................. -->
			<Table id="Ticketnachricht" 
             width="auto" 
             updateFinished=".onListUpdateFinished" 
             noDataText="Leider sind keine Daten enthalten">
		        <columns>
			        <Column id="Spalte_1_Zeile_1">
			    	    <Text id="Betreff" text="{ServiceRequest/Name}"/>
			        </Column>
		        </columns>
		        <items>
			        <ColumnListItem id="Spalte_1_Zeile_2">
			        	<Text id="Nachricht" text="{Text}"/>
                    </ColumnListItem>
		        </items>
            </Table>
		</semantic:content>
            <semantic:sendEmailAction>
		    	<semantic:SendEmailAction id="shareEmail" press=".onSendEmailPress"/>
		    </semantic:sendEmailAction>
		    <semantic:closeAction>
			    <semantic:CloseAction id="closeColumn" press=".onCloseDetailPress"/>
		    </semantic:closeAction>
		    <semantic:fullScreenAction>
			    <semantic:FullScreenAction id="enterFullScreen" press=".toggleFullScreen"/>
		    </semantic:fullScreenAction>
		    <semantic:exitFullScreenAction>
			    <semantic:ExitFullScreenAction id="exitFullScreen" press=".toggleFullScreen"/>
		    </semantic:exitFullScreenAction>
	</semantic:SemanticPage>

</mvc:View>